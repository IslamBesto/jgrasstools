s = sb.sim(name:"BasinShape") {

	// your folder here
	def folder = new File("/home/moovida/lavori/jgrasstools").absolutePath;
	
    model {
        components  {
          reader1    'RasterReader'
          reader2    'RasterReader'
          writer3    'ShapefileFeatureWriter'
          basinShape 'BasinShape'
        }

        parameter {
           'reader1.file' "$folder/byumba_pit_small.asc"
           'reader1.fileNovalue'		(-9999.0)
           'reader1.geodataNovalue'		Double.NaN
           
           'reader2.file' "$folder/byumba_basins200.asc"
           'reader2.fileNovalue'		(-9999.0)
           'reader2.geodataNovalue'		Double.NaN
           
           'writer3.file' "$folder/byumba_basins_tmp.shp"
           
           'basinShape.pm' pm
        }

        connect {
          'reader1.geodata' 'basinShape.inPit'
          'reader2.geodata' 'basinShape.inBasins'
          'basinShape.outBasins' 'writer3.geodata'
        }

    }
}

res = s.run();

println "Output gridcoverage:"
println res.writer3.geodata


